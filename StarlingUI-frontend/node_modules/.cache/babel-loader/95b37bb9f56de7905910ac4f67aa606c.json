{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\songe\\\\Documents\\\\Project\\\\SummerProject\\\\StarlingUI-frontend\\\\src\\\\components\\\\deployment-menu\\\\delete\\\\DeleteWarning.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport { ProjectContext } from '../../App';\nimport warning from '../../../css/img/warning-svgrepo-com.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function DeleteWarning(props) {\n  _s();\n\n  const {\n    currentUserID\n  } = useContext(ProjectContext);\n  const [hide, setHide] = useState(props.hideWarning);\n  let textInput = null;\n  useEffect(() => {\n    if (props.trigger === true && hide === false) {\n      textInput.focus();\n    }\n  });\n  useEffect(() => {\n    //key friendly\n    window.addEventListener('keydown', keyOperation);\n    return () => {\n      window.removeEventListener('keydown', keyOperation);\n    };\n  }, []);\n\n  function keyOperation(e) {\n    if (e.key === 'Escape' || e.code === 'Escape') {\n      props.setTrigger(false);\n    }\n  }\n\n  function message() {\n    if (currentUserID === props.selectedProject.ownerID) {\n      console.log(\"it's owner\");\n\n      if (!props.hideWarning) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"title-error wordbreak wordwrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"warning\",\n              src: warning,\n              alt: \"warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 64\n            }, this), \"Delete \", props.selectedProject.name, \"?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: [\"This action cannot be undone!\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hideAlert-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"hideAlert\",\n                onChange: () => {\n                  setHide(prev => !prev);\n                },\n                defaultChecked: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 51\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"hideAlert\",\n                children: \"Don't show this again\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 159\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"key-hint\",\n            children: \"(Press ENTER to delete, ESC to cancel)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popup-footer normal\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              ref: button => {\n                textInput = button;\n              },\n              className: \"btn btn-danger\",\n              onClick: () => {\n                props.setTrigger(false);\n                props.setProjectDelete(true);\n                props.setHideWarning(hide);\n              },\n              children: \"Still Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-cancel\",\n              onClick: () => {\n                props.setTrigger(false);\n                props.setHideWarning(hide);\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true);\n      } else {\n        props.setTrigger(false);\n        props.setProjectDelete(true);\n      }\n    } else {\n      console.log(\"cannot delete\");\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title-error\",\n          children: \"Can't delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: \"Only owner can delete the project\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"key-hint\",\n          children: \"(Press ESC to leave)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup-footer normal\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn short\",\n            onClick: () => {\n              props.setTrigger(false);\n            },\n            children: \"OK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true);\n    }\n  }\n\n  return props.trigger ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup-projects\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close\",\n        onClick: () => props.setTrigger(false),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), message()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this) : \"\";\n}\n\n_s(DeleteWarning, \"Yy0af4sAUspZ6HTjS0e9YrTrGsQ=\");\n\n_c = DeleteWarning;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteWarning\");","map":{"version":3,"names":["React","useContext","useState","useEffect","ProjectContext","warning","DeleteWarning","props","currentUserID","hide","setHide","hideWarning","textInput","trigger","focus","window","addEventListener","keyOperation","removeEventListener","e","key","code","setTrigger","message","selectedProject","ownerID","console","log","name","prev","button","setProjectDelete","setHideWarning"],"sources":["C:/Users/songe/Documents/Project/SummerProject/StarlingUI-frontend/src/components/deployment-menu/delete/DeleteWarning.js"],"sourcesContent":["import React, {useContext, useState,useEffect} from 'react';\r\nimport { ProjectContext } from '../../App';\r\nimport warning from '../../../css/img/warning-svgrepo-com.svg';\r\n\r\nexport default function DeleteWarning(props) {\r\n\r\n    const {currentUserID} = useContext(ProjectContext);\r\n\r\n    const [hide, setHide] = useState(props.hideWarning);\r\n\r\n    let textInput = null;\r\n    useEffect(()=>{\r\n        if(props.trigger===true && hide===false){\r\n            textInput.focus();\r\n        }\r\n    })\r\n\r\n    useEffect(()=>{\r\n        //key friendly\r\n        window.addEventListener('keydown', keyOperation);\r\n            \r\n        return () => { \r\n          window.removeEventListener('keydown', keyOperation);\r\n        };\r\n      },[]);\r\n    \r\n      function keyOperation(e){\r\n        if(e.key==='Escape'||e.code==='Escape'){\r\n          props.setTrigger(false)\r\n        }\r\n      }\r\n\r\n    function message(){\r\n        if(currentUserID===props.selectedProject.ownerID){\r\n            console.log(\"it's owner\");\r\n            if(!props.hideWarning){\r\n            return(\r\n                <>\r\n                <h2 className='title-error wordbreak wordwrap'><img className=\"warning\" src={warning} alt=\"warning\" />Delete {props.selectedProject.name}?</h2>\r\n                <div className='content'>This action cannot be undone!\r\n                <div className='hideAlert-option'><input type=\"checkbox\" className='hideAlert' onChange={()=>{setHide(prev=>!prev)}} defaultChecked={false}/> <label htmlFor=\"hideAlert\">Don't show this again</label></div>\r\n                </div>\r\n                <div className='key-hint'>(Press ENTER to delete, ESC to cancel)</div>\r\n                <div className='popup-footer normal'>\r\n                <button ref={(button) => { textInput = button; }} className=\"btn btn-danger\" onClick={()=>{props.setTrigger(false);props.setProjectDelete(true);props.setHideWarning(hide)}}>Still Delete</button>\r\n                <button className=\"btn btn-cancel\" onClick={()=>{props.setTrigger(false);props.setHideWarning(hide)}}>Cancel</button>\r\n                </div>\r\n                </>\r\n            )\r\n            }\r\n            else{\r\n                props.setTrigger(false);props.setProjectDelete(true);\r\n            }\r\n        }else{\r\n            console.log(\"cannot delete\");\r\n            return(\r\n                <>\r\n                <h2 className='title-error'>Can't delete</h2>\r\n                <div className='content'>Only owner can delete the project</div>\r\n                <div className='key-hint'>(Press ESC to leave)</div>\r\n                <div className='popup-footer normal'>\r\n                <button className='btn short' onClick={()=>{props.setTrigger(false);}}>OK</button>\r\n                </div>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n    \r\n    return (props.trigger) ?(\r\n        <div className='popup-projects'>\r\n            <div className='popup'>\r\n            <button className='close' onClick={()=>props.setTrigger(false)}>&times;</button>\r\n                {message()}\r\n            </div>\r\n        </div>\r\n      ): \"\"\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}