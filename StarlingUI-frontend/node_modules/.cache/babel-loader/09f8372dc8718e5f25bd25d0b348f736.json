{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\songe\\\\Documents\\\\Project\\\\SummerProject\\\\StarlingUI-frontend\\\\src\\\\components\\\\deployment-nodes\\\\Project.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect, useRef } from 'react';\nimport { ProjectContext } from '../App';\nimport { v4 as uuidv4 } from 'uuid';\nimport Node from './Node';\nimport Filter from './Filter';\nimport SearchBox from './SearchBox';\nimport search from '../img/search-svgrepo-com.svg';\nimport droneCircle from '../img/oie_151914634owYC2D.png';\nimport masterCircle from '../img/oie_15192229OeBZ3dl4.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Project(_ref) {\n  _s();\n\n  let {\n    currentUserID,\n    selectedProject\n  } = _ref;\n  const {\n    handleProjectChange,\n    signInPage\n  } = useContext(ProjectContext);\n  const [filterValue, setFilterValue] = useState('all');\n  const [searchNode, setSearchNode] = useState('');\n  const [showSearch, setShowSearch] = useState(false);\n  const [clickAdd, setClickAdd] = useState(false);\n  const options = [droneCircle, masterCircle, 'None'];\n  const [masterPic, setMasterPic] = useState(options[2]);\n  const [dronePic, setDronePic] = useState(options[2]);\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n    setClickAdd(false);\n  };\n\n  useEffect(() => {\n    if (clickAdd === true) {\n      scrollToBottom();\n    }\n  }, [clickAdd]);\n  useEffect(() => {\n    setFilterValue('all');\n    setSearchNode('');\n    setClickAdd(false);\n    setShowSearch(false);\n  }, [selectedProject]);\n\n  function handleChange(changes) {\n    handleProjectChange(selectedProject.id, { ...selectedProject,\n      ...changes\n    });\n  }\n\n  function handleNodeChange(id, node) {\n    const newNodes = [...selectedProject.config];\n    const index = newNodes.findIndex(i => i.id === id);\n    newNodes[index] = node;\n    handleChange({\n      config: newNodes\n    });\n  }\n\n  function handleNodeAdd() {\n    const number = selectedProject.config.length + 1;\n    const newNode = {\n      id: uuidv4(),\n      name: 'deployment-' + number,\n      kind: 'deployment',\n      //can be empty\n      label: {\n        app: selectedProject.name,\n        platform: ''\n      },\n      containers: []\n    };\n    const newMapping = {\n      nodeID: newNode.id,\n      mappedDrones: []\n    };\n    handleChange({\n      config: [...selectedProject.config, newNode],\n      mapping: [...selectedProject.mapping, newMapping]\n    }); //handleMappingAdd(newNode.id);\n  }\n\n  function handleNodeDelete(id) {\n    console.log(\"delete\");\n    handleChange({\n      config: selectedProject.config.filter(i => i.id !== id),\n      mapping: selectedProject.mapping.filter(i => i.nodeID !== id)\n    }); //handleMappingDelete(id);\n  }\n\n  function handleNodeDuplicate(node) {\n    console.log(\"duplicate\");\n    const newNode = {\n      id: uuidv4(),\n      name: node.name + '-copy',\n      kind: 'deployment',\n      label: node.label,\n      containers: [...node.containers]\n    };\n    handleChange({\n      config: [...selectedProject.config, newNode]\n    });\n  }\n\n  function showInstruction() {\n    //test\n    if (currentUserID === '') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"items-head\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"instruct\",\n          children: [\"Please \", /*#__PURE__*/_jsxDEV(\"em\", {\n            className: \"sign-in instruct\",\n            onClick: () => signInPage(),\n            children: \"sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 75\n          }, this), \" or load a project\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 16\n      }, this);\n    } else if (selectedProject === undefined) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"items-head\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"instruct\",\n          children: \"Please select or create a project\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 16\n      }, this);\n    }\n  }\n\n  function showProjectDetail() {\n    if (currentUserID !== '' && selectedProject !== undefined) {\n      if (filterValue !== 'all') {\n        const filterResult = selectedProject.config.filter(node => node.kind === filterValue);\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: searchNode === '' ? filterResult.map(node => /*#__PURE__*/_jsxDEV(Node, {\n            nodes: selectedProject.config,\n            node: node,\n            handleNodeChange: handleNodeChange,\n            handleNodeDelete: handleNodeDelete,\n            handleNodeDuplicate: handleNodeDuplicate,\n            options: options,\n            masterPic: masterPic,\n            setMasterPic: setMasterPic,\n            dronePic: dronePic,\n            setDronePic: setDronePic\n          }, node.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this)) : filterResult.filter(node => node.name.toLowerCase().includes(searchNode.toLowerCase())).map(node => /*#__PURE__*/_jsxDEV(Node, {\n            nodes: selectedProject.config,\n            node: node,\n            handleNodeChange: handleNodeChange,\n            handleNodeDelete: handleNodeDelete,\n            handleNodeDuplicate: handleNodeDuplicate,\n            options: options,\n            masterPic: masterPic,\n            setMasterPic: setMasterPic,\n            dronePic: dronePic,\n            setDronePic: setDronePic\n          }, node.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 19\n          }, this))\n        }, void 0, false);\n      } else {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: searchNode === '' ? selectedProject.config.map(node => /*#__PURE__*/_jsxDEV(Node, {\n            nodes: selectedProject.config,\n            node: node,\n            handleNodeChange: handleNodeChange,\n            handleNodeDelete: handleNodeDelete,\n            handleNodeDuplicate: handleNodeDuplicate,\n            options: options,\n            masterPic: masterPic,\n            setMasterPic: setMasterPic,\n            dronePic: dronePic,\n            setDronePic: setDronePic\n          }, node.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)) : selectedProject.config.filter(node => node.name.toLowerCase().includes(searchNode.toLowerCase())).map(node => /*#__PURE__*/_jsxDEV(Node, {\n            nodes: selectedProject.config,\n            node: node,\n            handleNodeChange: handleNodeChange,\n            handleNodeDelete: handleNodeDelete,\n            handleNodeDuplicate: handleNodeDuplicate,\n            options: options,\n            masterPic: masterPic,\n            setMasterPic: setMasterPic,\n            dronePic: dronePic,\n            setDronePic: setDronePic\n          }, node.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this))\n        }, void 0, false);\n      }\n    }\n  }\n\n  function showProjectColumn() {\n    if (selectedProject === undefined) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"project items\",\n        children: showInstruction()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"project items\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"search-icon\",\n          src: search,\n          alt: \"search\",\n          title: \"search/filter\",\n          onClick: () => setShowSearch(prev => !prev)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"node-search-filter\",\n          children: showSearch && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(SearchBox, {\n              setSearchNode: setSearchNode,\n              searchNode: searchNode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Filter, {\n              filterValue: filterValue,\n              setFilterValue: setFilterValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-container-single\",\n          children: showProjectDetail()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), selectedProject === undefined ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-add-node\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-menu btn-pill\",\n            onClick: () => {\n              handleNodeAdd();\n              setSearchNode('');\n              setFilterValue('all');\n              setClickAdd(true);\n            },\n            children: \"Add Design\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 169\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showProjectColumn()\n  }, void 0, false);\n}\n\n_s(Project, \"ErpoW7GQwp80kUpB5DdDMucaUSM=\");\n\n_c = Project;\n\nvar _c;\n\n$RefreshReg$(_c, \"Project\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useRef","ProjectContext","v4","uuidv4","Node","Filter","SearchBox","search","droneCircle","masterCircle","Project","currentUserID","selectedProject","handleProjectChange","signInPage","filterValue","setFilterValue","searchNode","setSearchNode","showSearch","setShowSearch","clickAdd","setClickAdd","options","masterPic","setMasterPic","dronePic","setDronePic","messagesEndRef","scrollToBottom","current","scrollIntoView","behavior","handleChange","changes","id","handleNodeChange","node","newNodes","config","index","findIndex","i","handleNodeAdd","number","length","newNode","name","kind","label","app","platform","containers","newMapping","nodeID","mappedDrones","mapping","handleNodeDelete","console","log","filter","handleNodeDuplicate","showInstruction","undefined","showProjectDetail","filterResult","map","toLowerCase","includes","showProjectColumn","prev"],"sources":["C:/Users/songe/Documents/Project/SummerProject/StarlingUI-frontend/src/components/deployment-nodes/Project.js"],"sourcesContent":["import React, {useContext, useState, useEffect, useRef} from 'react'\r\nimport { ProjectContext } from '../App';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Node from './Node';\r\nimport Filter from './Filter';\r\nimport SearchBox from './SearchBox';\r\nimport search from '../img/search-svgrepo-com.svg';\r\n\r\nimport droneCircle from '../img/oie_151914634owYC2D.png';\r\nimport masterCircle from '../img/oie_15192229OeBZ3dl4.png'\r\n\r\nexport default function Project({currentUserID, selectedProject}) {\r\n\r\n    const {handleProjectChange, signInPage} = useContext(ProjectContext);\r\n\r\n    const [filterValue, setFilterValue] = useState('all');\r\n    const [searchNode, setSearchNode] = useState('');\r\n\r\n    const [showSearch, setShowSearch] = useState(false);\r\n    const [clickAdd, setClickAdd] =useState(false);\r\n\r\n    const options = [droneCircle, masterCircle, 'None'];\r\n    const [masterPic, setMasterPic] = useState(options[2]);\r\n    const [dronePic, setDronePic] = useState(options[2]);\r\n\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n      messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n      setClickAdd(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n      if(clickAdd===true){\r\n        scrollToBottom();\r\n      }\r\n    }, [clickAdd]);\r\n\r\n    useEffect(() => {\r\n      setFilterValue('all');\r\n      setSearchNode('');\r\n      setClickAdd(false);\r\n      setShowSearch(false);\r\n    }, [selectedProject]);\r\n\r\n\r\n  function handleChange(changes){\r\n      handleProjectChange(selectedProject.id, {...selectedProject,...changes});\r\n  }\r\n\r\n  function handleNodeChange(id, node){\r\n    const newNodes = [...selectedProject.config];\r\n    const index = newNodes.findIndex(i=>i.id===id);\r\n    newNodes[index] = node;\r\n    handleChange({config:newNodes});\r\n}\r\n\r\nfunction handleNodeAdd(){\r\n  const number = selectedProject.config.length+1;\r\n  const newNode = {\r\n      id: uuidv4(),\r\n      name: 'deployment-'+number,\r\n      kind: 'deployment',\r\n      //can be empty\r\n      label: {app: selectedProject.name ,platform: ''},\r\n      containers: []\r\n  }\r\n  const newMapping = {\r\n    nodeID: newNode.id,\r\n    mappedDrones: []\r\n  }\r\n  handleChange({config: [...selectedProject.config, newNode],mapping: [...selectedProject.mapping, newMapping]});\r\n  //handleMappingAdd(newNode.id);\r\n}\r\n\r\nfunction handleNodeDelete(id){\r\n  console.log(\"delete\");\r\n  handleChange({config: selectedProject.config.filter(i=> i.id !== id),mapping: selectedProject.mapping.filter(i=> i.nodeID !== id)});\r\n  //handleMappingDelete(id);\r\n}\r\n\r\nfunction handleNodeDuplicate(node){\r\n  console.log(\"duplicate\")\r\n  const newNode = {\r\n      id: uuidv4(),\r\n      name: node.name+'-copy',\r\n      kind: 'deployment',\r\n      label: node.label,\r\n      containers: [...node.containers],\r\n  }\r\n  handleChange({config: [...selectedProject.config, newNode]});\r\n}\r\n    \r\n    function showInstruction(){\r\n      //test\r\n      if(currentUserID===''){\r\n        return <div className='items-head'><p className='instruct'>Please <em className='sign-in instruct' onClick={()=>signInPage()}>sign in</em> or load a project</p></div>\r\n      }\r\n      else if(selectedProject===undefined){\r\n        return <div className='items-head'><p className='instruct'>Please select or create a project</p></div>\r\n      }\r\n    }\r\n\r\n    function showProjectDetail(){\r\n      if(currentUserID!=='' && selectedProject!==undefined){\r\n        if(filterValue!=='all'){\r\n          const filterResult = selectedProject.config.filter(node=>node.kind===filterValue);\r\n          return (\r\n            <>\r\n              {searchNode===''? \r\n              filterResult.map(node=>\r\n                <Node\r\n                  key={node.id}\r\n                  nodes={selectedProject.config}\r\n                  node={node}\r\n                  handleNodeChange={handleNodeChange}\r\n                  handleNodeDelete={handleNodeDelete}\r\n                  handleNodeDuplicate={handleNodeDuplicate}\r\n                  options={options}\r\n                  masterPic={masterPic}\r\n                  setMasterPic={setMasterPic}\r\n                  dronePic={dronePic}\r\n                  setDronePic={setDronePic}\r\n                >\r\n                </Node>):\r\n                filterResult.filter(node=>node.name.toLowerCase().includes(searchNode.toLowerCase())).map(node=>\r\n                  <Node\r\n                    key={node.id}\r\n                    nodes={selectedProject.config}\r\n                    node={node}\r\n                    handleNodeChange={handleNodeChange}\r\n                    handleNodeDelete={handleNodeDelete}\r\n                    handleNodeDuplicate={handleNodeDuplicate}\r\n                    options={options}\r\n                    masterPic={masterPic}\r\n                    setMasterPic={setMasterPic}\r\n                    dronePic={dronePic}\r\n                    setDronePic={setDronePic}\r\n                  >\r\n                  </Node>\r\n                )}\r\n            </>\r\n          )\r\n        }\r\n        else{\r\n          return (\r\n          <>\r\n          {searchNode===''?\r\n          selectedProject.config.map(node=>\r\n            <Node\r\n              key={node.id}\r\n              nodes={selectedProject.config}\r\n              node={node}\r\n              handleNodeChange={handleNodeChange}\r\n              handleNodeDelete={handleNodeDelete}\r\n              handleNodeDuplicate={handleNodeDuplicate}\r\n              options={options}\r\n              masterPic={masterPic}\r\n              setMasterPic={setMasterPic}\r\n              dronePic={dronePic}\r\n              setDronePic={setDronePic}\r\n            >\r\n            </Node>): \r\n            selectedProject.config.filter(node=>node.name.toLowerCase().includes(searchNode.toLowerCase())).map(node=>\r\n              <Node\r\n                key={node.id}\r\n                nodes={selectedProject.config}\r\n                node={node}\r\n                handleNodeChange={handleNodeChange}\r\n                handleNodeDelete={handleNodeDelete}\r\n                handleNodeDuplicate={handleNodeDuplicate}\r\n                options={options}\r\n                masterPic={masterPic}\r\n                setMasterPic={setMasterPic}\r\n                dronePic={dronePic}\r\n                setDronePic={setDronePic}\r\n              >\r\n              </Node>)}\r\n          </>\r\n        )\r\n      }\r\n      }\r\n    }\r\n\r\n    function showProjectColumn(){\r\n      if(selectedProject===undefined){\r\n        return (\r\n          <div className='project items'>\r\n           {showInstruction()}\r\n          </div>\r\n        )\r\n      }else{\r\n        return (\r\n          <div className='project items'>\r\n            <img className=\"search-icon\" src={search} alt=\"search\" title=\"search/filter\" onClick={()=>setShowSearch(prev=>!prev)}/>\r\n            <div className='node-search-filter'>\r\n            {showSearch &&<><SearchBox setSearchNode={setSearchNode} searchNode={searchNode}></SearchBox>\r\n              <Filter filterValue={filterValue} setFilterValue={setFilterValue}></Filter></>}\r\n            </div>\r\n          <div className='project-container-single'>\r\n           {showProjectDetail()}\r\n          </div>\r\n          {selectedProject===undefined? null: \r\n            <div className='btn-add-node'>\r\n              <button className='btn btn-menu btn-pill' onClick = {()=>{handleNodeAdd();setSearchNode('');setFilterValue('all');setClickAdd(true);}}>Add Design</button><div ref={messagesEndRef} /></div>}\r\n          </div>\r\n          )\r\n      }\r\n    }\r\n\r\nreturn (\r\n  <>\r\n    {showProjectColumn()}\r\n  </>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}