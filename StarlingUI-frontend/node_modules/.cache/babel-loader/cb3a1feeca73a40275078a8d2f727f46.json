{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\songe\\\\Documents\\\\Project\\\\SummerProject\\\\StarlingUI-frontend\\\\src\\\\components\\\\deployment-nodes\\\\Node.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport Container from './Container';\nimport { ProjectContext } from '../App';\nimport { useDrop } from \"react-dnd\";\nimport NodeSetting from './NodeSetting.js';\nimport { v4 as uuidv4 } from 'uuid';\nimport search from '../img/setting-svgrepo-com.svg';\nimport black from '../img/Solid_black.png';\nimport computerIcon from '../img/computer-svgrepo-com.svg';\nimport droneIcon from '../img/aerial-drone-uav-svgrepo-com.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Node(_ref) {\n  _s();\n\n  let {\n    node,\n    nodes,\n    handleNodeChange,\n    handleNodeDelete,\n    handleNodeDuplicate,\n    masterPic,\n    setMasterPic,\n    dronePic,\n    setDronePic,\n    options\n  } = _ref;\n  const {\n    images,\n    projects\n  } = useContext(ProjectContext);\n  const [setting, setSetting] = useState(false);\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: \"image\",\n    drop: item => addImageToBoard(item.id),\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }), [node, nodes, images, projects]);\n\n  const addImageToBoard = id => {\n    console.log(id);\n    handleImageAdd(id);\n  };\n\n  function handleChange(changes) {\n    handleNodeChange(node.id, { ...node,\n      ...changes\n    });\n  }\n\n  function handleContainerChange(id, container) {\n    const newContainers = [...node.containers];\n    const index = newContainers.findIndex(i => i.id === id);\n    newContainers[index] = container;\n    handleChange({\n      containers: newContainers\n    });\n  }\n\n  function handleImageDelete(id) {\n    handleChange({\n      containers: node.containers.filter(element => element.id !== id)\n    });\n  }\n\n  function handleImageAdd(id) {\n    //no duplicate\n    const resultIndex = node.containers.findIndex(element => element.id === id);\n\n    if (resultIndex === -1) {\n      console.log(\"no duplicate\");\n      const addedImage = images.find(element => element.id === id);\n      console.log(addedImage.name);\n      const newContainer = {\n        id: id,\n        name: addedImage.name,\n        command: '',\n        args: '',\n        env: [{\n          id: uuidv4(),\n          name: \"\",\n          value: \"\"\n        }],\n        port: [{\n          id: uuidv4(),\n          containerPort: \"\",\n          protocol: \"\"\n        }]\n      };\n      handleChange({\n        containers: [...node.containers, newContainer]\n      });\n    }\n  }\n\n  function handleImageAllDelete() {\n    handleChange({\n      containers: []\n    });\n  }\n\n  function showMoreButtons() {\n    if (node.kind !== 'master') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"node-btn\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-menu\",\n          onClick: () => handleNodeDuplicate(node),\n          children: \"Copy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-menu\",\n          onClick: () => handleNodeDelete(node.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"node-btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-menu\",\n          onClick: () => handleNodeDelete(node.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  function showKindColor(kind) {\n    //node.kind.charAt(0).toUpperCase() + node.kind.slice(1)\n    if (kind === 'master') {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"hsl(200, 100%,70%)\"\n        },\n        children: \"Master\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#f2f2f2\"\n        },\n        children: \"Deployment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  function showPicture(kind) {\n    //const options = [drone, master, null];        \n    if (masterPic !== 'None' && dronePic !== 'None') {\n      const sizeSetting = [\"circle-drone-icon\", \"circle-computer-icon\"];\n\n      if (kind === 'master') {\n        const sizeSettingIndex = options.findIndex(element => element === masterPic);\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          className: sizeSetting[sizeSettingIndex],\n          src: masterPic,\n          alt: \"master\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this);\n      } else if (kind === 'deployment') {\n        const sizeSettingIndex = options.findIndex(element => element === dronePic);\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          className: sizeSetting[sizeSettingIndex],\n          src: dronePic,\n          alt: \"drone deployment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"black-icon\",\n        src: black\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  function showIcon(kind) {\n    if (masterPic === 'None' || dronePic === 'None') {\n      if (kind === 'master') {\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"computer-title-icon\",\n          src: computerIcon,\n          alt: \"master icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this);\n      } else if (kind === 'deployment') {\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"drone-title-icon\",\n          src: droneIcon,\n          alt: \"deployment icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this);\n      }\n    }\n  }\n\n  function showHint() {\n    var _node$containers;\n\n    if (((_node$containers = node.containers) === null || _node$containers === void 0 ? void 0 : _node$containers.length) === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drag-hint\",\n        children: /*#__PURE__*/_jsxDEV(\"em\", {\n          children: \"Drag left-side images to here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this);\n    }\n  } //style={{background: isOver? \"hsl(200, 100%, 40%)\": \"hsl(200, 100%, 20%)\"}}\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"node\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"node-title-bar\",\n        onClick: () => setSetting(true),\n        title: node.name,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: masterPic === 'None' || dronePic === 'None' ? 'node-title wordwrap with-icon' : 'node-title wordwrap',\n          children: [showIcon(node.kind), node.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"node-kind\",\n          style: {\n            borderLeft: node.kind === 'master' ? \"2px solid hsl(200, 100%, 70%)\" : \"2px solid #f2f2f2\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: showKindColor(node.kind)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 143\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"setting-icon\",\n        src: search,\n        alt: \"setting\",\n        title: \"setting\",\n        onClick: () => setSetting(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drone-icon-container\",\n        onClick: () => setSetting(true),\n        children: showPicture(node.kind)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: masterPic === 'None' || dronePic === 'None' ? \"node-image-tag-container no-picture\" : \"node-image-tag-container\",\n        ref: drop,\n        style: {\n          background: isOver ? \"#444\" : \"#1a1a1a\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"node-image-tag-number\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"image-number\",\n            children: [\"Number of images: \", node.containers.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-small btn-menu btn-pill\",\n            onClick: () => handleImageAllDelete(),\n            children: \"Clear All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), showHint(), node.containers.map(image => /*#__PURE__*/_jsxDEV(Container, {\n          image: image,\n          handleImageDelete: handleImageDelete,\n          handleContainerChange: handleContainerChange\n        }, image.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), showMoreButtons()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(NodeSetting, {\n      trigger: setting,\n      setTrigger: setSetting,\n      node: node,\n      nodes: nodes,\n      handleNodeChange: handleNodeChange,\n      options: options,\n      masterPic: masterPic,\n      setMasterPic: setMasterPic,\n      dronePic: dronePic,\n      setDronePic: setDronePic\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Node, \"fWK+DdVojHj5a/bscqGIR+jZ0YA=\", false, function () {\n  return [useDrop];\n});\n\n_c = Node;\n\nvar _c;\n\n$RefreshReg$(_c, \"Node\");","map":{"version":3,"names":["React","useContext","useState","Container","ProjectContext","useDrop","NodeSetting","v4","uuidv4","search","black","computerIcon","droneIcon","Node","node","nodes","handleNodeChange","handleNodeDelete","handleNodeDuplicate","masterPic","setMasterPic","dronePic","setDronePic","options","images","projects","setting","setSetting","isOver","drop","accept","item","addImageToBoard","id","collect","monitor","console","log","handleImageAdd","handleChange","changes","handleContainerChange","container","newContainers","containers","index","findIndex","i","handleImageDelete","filter","element","resultIndex","addedImage","find","name","newContainer","command","args","env","value","port","containerPort","protocol","handleImageAllDelete","showMoreButtons","kind","showKindColor","color","showPicture","sizeSetting","sizeSettingIndex","showIcon","showHint","length","borderLeft","background","map","image"],"sources":["C:/Users/songe/Documents/Project/SummerProject/StarlingUI-frontend/src/components/deployment-nodes/Node.js"],"sourcesContent":["import React, {useContext, useState} from 'react'\r\nimport Container from './Container';\r\nimport { ProjectContext } from '../App';\r\nimport { useDrop } from \"react-dnd\";\r\nimport NodeSetting from './NodeSetting.js';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport search from '../img/setting-svgrepo-com.svg';\r\nimport black from '../img/Solid_black.png';\r\nimport computerIcon from '../img/computer-svgrepo-com.svg';\r\nimport droneIcon from '../img/aerial-drone-uav-svgrepo-com.svg';\r\n\r\nexport default function Node({node,nodes,handleNodeChange,handleNodeDelete,handleNodeDuplicate,masterPic,setMasterPic,dronePic,setDronePic,options}) {\r\n\r\n    const {images, projects} = useContext(ProjectContext);\r\n\r\n    const[setting, setSetting] = useState(false);\r\n\r\n    const [{isOver},drop] = useDrop(()=>({\r\n        accept: \"image\",\r\n        drop: (item) => addImageToBoard(item.id),\r\n        collect: (monitor) =>({\r\n            isOver:!!monitor.isOver(),\r\n        }),\r\n    }), [node,nodes,images,projects])\r\n    \r\n    const addImageToBoard = (id) =>{\r\n        console.log(id);\r\n        handleImageAdd(id);\r\n    }\r\n    \r\n    function handleChange(changes){\r\n        handleNodeChange(node.id, {...node, ...changes})\r\n    }\r\n\r\n    function handleContainerChange(id, container){\r\n        const newContainers = [...node.containers];\r\n        const index = newContainers.findIndex(i=>i.id===id);\r\n        newContainers[index] = container;\r\n        handleChange({containers:newContainers});\r\n    }\r\n    \r\n    function handleImageDelete(id){\r\n        handleChange({containers: node.containers.filter(element=> element.id !== id)});\r\n    }\r\n    \r\n    function handleImageAdd(id){\r\n        //no duplicate\r\n        const resultIndex = node.containers.findIndex(element=>element.id===id);\r\n        if(resultIndex===-1){\r\n            console.log(\"no duplicate\");\r\n            const addedImage = images.find(element=>element.id===id);\r\n            console.log(addedImage.name);\r\n            const newContainer = {\r\n                id: id,\r\n                name: addedImage.name,\r\n                command: '',\r\n\t         \targs: '',\r\n                env: [\r\n                    {\r\n                        id: uuidv4(),\r\n                        name: \"\",\r\n                        value: \"\"\r\n                    }\r\n                ],\r\n                port: [\r\n                    {\r\n                        id: uuidv4(),\r\n                        containerPort: \"\",\r\n                        protocol: \"\"\r\n                    }\r\n                ],\r\n            }\r\n            handleChange({containers: [...node.containers, newContainer]});\r\n        }\r\n    }\r\n    \r\n    function handleImageAllDelete(){\r\n        handleChange({containers: []});   \r\n    }\r\n\r\n    function showMoreButtons(){\r\n        if(node.kind!=='master'){\r\n            return(\r\n                <div className='node-btn'>\r\n                    <button className='btn btn-menu' onClick = {()=>handleNodeDuplicate(node)}>Copy</button>\r\n                    <button className='btn btn-menu' onClick = {()=>handleNodeDelete(node.id)}>Delete</button>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <div className='node-btn'>\r\n                    <button className='btn btn-menu' onClick = {()=>handleNodeDelete(node.id)}>Delete</button>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    function showKindColor(kind){\r\n        //node.kind.charAt(0).toUpperCase() + node.kind.slice(1)\r\n        if(kind==='master'){\r\n            return(\r\n                <span style={{color: \"hsl(200, 100%,70%)\"}}>Master</span>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <span style={{color: \"#f2f2f2\"}}>Deployment</span>\r\n            )\r\n        }\r\n    }\r\n\r\n    function showPicture(kind){\r\n        //const options = [drone, master, null];        \r\n        if(masterPic!=='None' && dronePic!=='None'){\r\n            const sizeSetting = [\"circle-drone-icon\", \"circle-computer-icon\"];\r\n            if(kind==='master'){\r\n                const sizeSettingIndex = options.findIndex(element=>element===masterPic);\r\n                return(\r\n                    <img className={sizeSetting[sizeSettingIndex]} src={masterPic} alt=\"master\"/>\r\n                )\r\n            }\r\n            else if(kind==='deployment'){\r\n                const sizeSettingIndex = options.findIndex(element=>element===dronePic);\r\n                return(\r\n                    <img className={sizeSetting[sizeSettingIndex]} src={dronePic} alt=\"drone deployment\"/>\r\n                )\r\n            }\r\n        }\r\n        else{\r\n            return(\r\n                <img className=\"black-icon\" src={black}/>\r\n            )\r\n        }\r\n    }\r\n\r\n    function showIcon(kind){\r\n        if(masterPic==='None' || dronePic==='None'){\r\n            if(kind==='master'){\r\n                return(\r\n                    <img className='computer-title-icon' src={computerIcon} alt=\"master icon\"/>\r\n                )\r\n            }\r\n            else if(kind==='deployment'){\r\n                return(\r\n                    <img className='drone-title-icon' src={droneIcon} alt=\"deployment icon\"/>\r\n                )\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    function showHint(){\r\n        if(node.containers?.length===0){\r\n            return(\r\n                <div className=\"drag-hint\"><em>Drag left-side images to here</em></div>\r\n            )\r\n        }\r\n    }\r\n    \r\n    //style={{background: isOver? \"hsl(200, 100%, 40%)\": \"hsl(200, 100%, 20%)\"}}\r\n    \r\n      return (\r\n    <div>\r\n        <div className='node'>\r\n            <div className='node-title-bar' onClick={()=>setSetting(true)} title={node.name}>\r\n                <div className={masterPic==='None'||dronePic==='None'? 'node-title wordwrap with-icon' : 'node-title wordwrap'}>{showIcon(node.kind)}{node.name}</div>\r\n                <div className='node-kind' style={{ borderLeft: node.kind==='master'? \"2px solid hsl(200, 100%, 70%)\" : \"2px solid #f2f2f2\"}}><span>{showKindColor(node.kind)}</span></div>\r\n            </div>\r\n            <img className=\"setting-icon\" src={search} alt=\"setting\" title=\"setting\" onClick={()=>setSetting(true)}/>\r\n        \r\n        <div className='drone-icon-container' onClick={()=>setSetting(true)}>{showPicture(node.kind)}</div>\r\n        \r\n        <div className={masterPic==='None'||dronePic==='None'? \"node-image-tag-container no-picture\": \"node-image-tag-container\"} ref={drop} style={{background: isOver? \"#444\": \"#1a1a1a\"}}>\r\n            <div className='node-image-tag-number'>\r\n                <p className='image-number'>Number of images: {node.containers.length}</p>\r\n                <button className='btn btn-small btn-menu btn-pill' onClick={()=>handleImageAllDelete()}>Clear All</button>\r\n            </div>\r\n            {showHint()}\r\n            {node.containers.map(image=>\r\n                <Container key={image.id} image={image} handleImageDelete={handleImageDelete} handleContainerChange={handleContainerChange}></Container>\r\n            )}\r\n        </div>\r\n        {showMoreButtons()}\r\n        </div>\r\n        <NodeSetting \r\n        trigger={setting} setTrigger={setSetting} \r\n        node={node} nodes={nodes} \r\n        handleNodeChange={handleNodeChange}\r\n        options={options}\r\n        masterPic={masterPic}\r\n        setMasterPic={setMasterPic}\r\n        dronePic={dronePic}\r\n        setDronePic={setDronePic}></NodeSetting>\r\n    </div>\r\n      )\r\n    }\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,SAAP,MAAsB,yCAAtB;;AAEA,eAAe,SAASC,IAAT,OAAsI;EAAA;;EAAA,IAAxH;IAACC,IAAD;IAAMC,KAAN;IAAYC,gBAAZ;IAA6BC,gBAA7B;IAA8CC,mBAA9C;IAAkEC,SAAlE;IAA4EC,YAA5E;IAAyFC,QAAzF;IAAkGC,WAAlG;IAA8GC;EAA9G,CAAwH;EAEjJ,MAAM;IAACC,MAAD;IAASC;EAAT,IAAqBxB,UAAU,CAACG,cAAD,CAArC;EAEA,MAAK,CAACsB,OAAD,EAAUC,UAAV,IAAwBzB,QAAQ,CAAC,KAAD,CAArC;EAEA,MAAM,CAAC;IAAC0B;EAAD,CAAD,EAAUC,IAAV,IAAkBxB,OAAO,CAAC,OAAK;IACjCyB,MAAM,EAAE,OADyB;IAEjCD,IAAI,EAAGE,IAAD,IAAUC,eAAe,CAACD,IAAI,CAACE,EAAN,CAFE;IAGjCC,OAAO,EAAGC,OAAD,KAAa;MAClBP,MAAM,EAAC,CAAC,CAACO,OAAO,CAACP,MAAR;IADS,CAAb;EAHwB,CAAL,CAAD,EAM3B,CAACd,IAAD,EAAMC,KAAN,EAAYS,MAAZ,EAAmBC,QAAnB,CAN2B,CAA/B;;EAQA,MAAMO,eAAe,GAAIC,EAAD,IAAO;IAC3BG,OAAO,CAACC,GAAR,CAAYJ,EAAZ;IACAK,cAAc,CAACL,EAAD,CAAd;EACH,CAHD;;EAKA,SAASM,YAAT,CAAsBC,OAAtB,EAA8B;IAC1BxB,gBAAgB,CAACF,IAAI,CAACmB,EAAN,EAAU,EAAC,GAAGnB,IAAJ;MAAU,GAAG0B;IAAb,CAAV,CAAhB;EACH;;EAED,SAASC,qBAAT,CAA+BR,EAA/B,EAAmCS,SAAnC,EAA6C;IACzC,MAAMC,aAAa,GAAG,CAAC,GAAG7B,IAAI,CAAC8B,UAAT,CAAtB;IACA,MAAMC,KAAK,GAAGF,aAAa,CAACG,SAAd,CAAwBC,CAAC,IAAEA,CAAC,CAACd,EAAF,KAAOA,EAAlC,CAAd;IACAU,aAAa,CAACE,KAAD,CAAb,GAAuBH,SAAvB;IACAH,YAAY,CAAC;MAACK,UAAU,EAACD;IAAZ,CAAD,CAAZ;EACH;;EAED,SAASK,iBAAT,CAA2Bf,EAA3B,EAA8B;IAC1BM,YAAY,CAAC;MAACK,UAAU,EAAE9B,IAAI,CAAC8B,UAAL,CAAgBK,MAAhB,CAAuBC,OAAO,IAAGA,OAAO,CAACjB,EAAR,KAAeA,EAAhD;IAAb,CAAD,CAAZ;EACH;;EAED,SAASK,cAAT,CAAwBL,EAAxB,EAA2B;IACvB;IACA,MAAMkB,WAAW,GAAGrC,IAAI,CAAC8B,UAAL,CAAgBE,SAAhB,CAA0BI,OAAO,IAAEA,OAAO,CAACjB,EAAR,KAAaA,EAAhD,CAApB;;IACA,IAAGkB,WAAW,KAAG,CAAC,CAAlB,EAAoB;MAChBf,OAAO,CAACC,GAAR,CAAY,cAAZ;MACA,MAAMe,UAAU,GAAG5B,MAAM,CAAC6B,IAAP,CAAYH,OAAO,IAAEA,OAAO,CAACjB,EAAR,KAAaA,EAAlC,CAAnB;MACAG,OAAO,CAACC,GAAR,CAAYe,UAAU,CAACE,IAAvB;MACA,MAAMC,YAAY,GAAG;QACjBtB,EAAE,EAAEA,EADa;QAEjBqB,IAAI,EAAEF,UAAU,CAACE,IAFA;QAGjBE,OAAO,EAAE,EAHQ;QAItBC,IAAI,EAAE,EAJgB;QAKjBC,GAAG,EAAE,CACD;UACIzB,EAAE,EAAEzB,MAAM,EADd;UAEI8C,IAAI,EAAE,EAFV;UAGIK,KAAK,EAAE;QAHX,CADC,CALY;QAYjBC,IAAI,EAAE,CACF;UACI3B,EAAE,EAAEzB,MAAM,EADd;UAEIqD,aAAa,EAAE,EAFnB;UAGIC,QAAQ,EAAE;QAHd,CADE;MAZW,CAArB;MAoBAvB,YAAY,CAAC;QAACK,UAAU,EAAE,CAAC,GAAG9B,IAAI,CAAC8B,UAAT,EAAqBW,YAArB;MAAb,CAAD,CAAZ;IACH;EACJ;;EAED,SAASQ,oBAAT,GAA+B;IAC3BxB,YAAY,CAAC;MAACK,UAAU,EAAE;IAAb,CAAD,CAAZ;EACH;;EAED,SAASoB,eAAT,GAA0B;IACtB,IAAGlD,IAAI,CAACmD,IAAL,KAAY,QAAf,EAAwB;MACpB,oBACI;QAAK,SAAS,EAAC,UAAf;QAAA,wBACI;UAAQ,SAAS,EAAC,cAAlB;UAAiC,OAAO,EAAI,MAAI/C,mBAAmB,CAACJ,IAAD,CAAnE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAQ,SAAS,EAAC,cAAlB;UAAiC,OAAO,EAAI,MAAIG,gBAAgB,CAACH,IAAI,CAACmB,EAAN,CAAhE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ;IAMH,CAPD,MAOK;MACD,oBACI;QAAK,SAAS,EAAC,UAAf;QAAA,uBACI;UAAQ,SAAS,EAAC,cAAlB;UAAiC,OAAO,EAAI,MAAIhB,gBAAgB,CAACH,IAAI,CAACmB,EAAN,CAAhE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ;IAKH;EACJ;;EAED,SAASiC,aAAT,CAAuBD,IAAvB,EAA4B;IACxB;IACA,IAAGA,IAAI,KAAG,QAAV,EAAmB;MACf,oBACI;QAAM,KAAK,EAAE;UAACE,KAAK,EAAE;QAAR,CAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ;IAGH,CAJD,MAKI;MACA,oBACI;QAAM,KAAK,EAAE;UAACA,KAAK,EAAE;QAAR,CAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ;IAGH;EACJ;;EAED,SAASC,WAAT,CAAqBH,IAArB,EAA0B;IACtB;IACA,IAAG9C,SAAS,KAAG,MAAZ,IAAsBE,QAAQ,KAAG,MAApC,EAA2C;MACvC,MAAMgD,WAAW,GAAG,CAAC,mBAAD,EAAsB,sBAAtB,CAApB;;MACA,IAAGJ,IAAI,KAAG,QAAV,EAAmB;QACf,MAAMK,gBAAgB,GAAG/C,OAAO,CAACuB,SAAR,CAAkBI,OAAO,IAAEA,OAAO,KAAG/B,SAArC,CAAzB;QACA,oBACI;UAAK,SAAS,EAAEkD,WAAW,CAACC,gBAAD,CAA3B;UAA+C,GAAG,EAAEnD,SAApD;UAA+D,GAAG,EAAC;QAAnE;UAAA;UAAA;UAAA;QAAA,QADJ;MAGH,CALD,MAMK,IAAG8C,IAAI,KAAG,YAAV,EAAuB;QACxB,MAAMK,gBAAgB,GAAG/C,OAAO,CAACuB,SAAR,CAAkBI,OAAO,IAAEA,OAAO,KAAG7B,QAArC,CAAzB;QACA,oBACI;UAAK,SAAS,EAAEgD,WAAW,CAACC,gBAAD,CAA3B;UAA+C,GAAG,EAAEjD,QAApD;UAA8D,GAAG,EAAC;QAAlE;UAAA;UAAA;UAAA;QAAA,QADJ;MAGH;IACJ,CAdD,MAeI;MACA,oBACI;QAAK,SAAS,EAAC,YAAf;QAA4B,GAAG,EAAEX;MAAjC;QAAA;QAAA;QAAA;MAAA,QADJ;IAGH;EACJ;;EAED,SAAS6D,QAAT,CAAkBN,IAAlB,EAAuB;IACnB,IAAG9C,SAAS,KAAG,MAAZ,IAAsBE,QAAQ,KAAG,MAApC,EAA2C;MACvC,IAAG4C,IAAI,KAAG,QAAV,EAAmB;QACf,oBACI;UAAK,SAAS,EAAC,qBAAf;UAAqC,GAAG,EAAEtD,YAA1C;UAAwD,GAAG,EAAC;QAA5D;UAAA;UAAA;UAAA;QAAA,QADJ;MAGH,CAJD,MAKK,IAAGsD,IAAI,KAAG,YAAV,EAAuB;QACxB,oBACI;UAAK,SAAS,EAAC,kBAAf;UAAkC,GAAG,EAAErD,SAAvC;UAAkD,GAAG,EAAC;QAAtD;UAAA;UAAA;UAAA;QAAA,QADJ;MAGH;IAEJ;EACJ;;EAED,SAAS4D,QAAT,GAAmB;IAAA;;IACf,IAAG,qBAAA1D,IAAI,CAAC8B,UAAL,sEAAiB6B,MAAjB,MAA0B,CAA7B,EAA+B;MAC3B,oBACI;QAAK,SAAS,EAAC,WAAf;QAAA,uBAA2B;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAA3B;QAAA;QAAA;QAAA;MAAA,QADJ;IAGH;EACJ,CAlJgJ,CAoJjJ;;;EAEE,oBACF;IAAA,wBACI;MAAK,SAAS,EAAC,MAAf;MAAA,wBACI;QAAK,SAAS,EAAC,gBAAf;QAAgC,OAAO,EAAE,MAAI9C,UAAU,CAAC,IAAD,CAAvD;QAA+D,KAAK,EAAEb,IAAI,CAACwC,IAA3E;QAAA,wBACI;UAAK,SAAS,EAAEnC,SAAS,KAAG,MAAZ,IAAoBE,QAAQ,KAAG,MAA/B,GAAuC,+BAAvC,GAAyE,qBAAzF;UAAA,WAAiHkD,QAAQ,CAACzD,IAAI,CAACmD,IAAN,CAAzH,EAAsInD,IAAI,CAACwC,IAA3I;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAK,SAAS,EAAC,WAAf;UAA2B,KAAK,EAAE;YAAEoB,UAAU,EAAE5D,IAAI,CAACmD,IAAL,KAAY,QAAZ,GAAsB,+BAAtB,GAAwD;UAAtE,CAAlC;UAAA,uBAA8H;YAAA,UAAOC,aAAa,CAACpD,IAAI,CAACmD,IAAN;UAApB;YAAA;YAAA;YAAA;UAAA;QAA9H;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAKI;QAAK,SAAS,EAAC,cAAf;QAA8B,GAAG,EAAExD,MAAnC;QAA2C,GAAG,EAAC,SAA/C;QAAyD,KAAK,EAAC,SAA/D;QAAyE,OAAO,EAAE,MAAIkB,UAAU,CAAC,IAAD;MAAhG;QAAA;QAAA;QAAA;MAAA,QALJ,eAOA;QAAK,SAAS,EAAC,sBAAf;QAAsC,OAAO,EAAE,MAAIA,UAAU,CAAC,IAAD,CAA7D;QAAA,UAAsEyC,WAAW,CAACtD,IAAI,CAACmD,IAAN;MAAjF;QAAA;QAAA;QAAA;MAAA,QAPA,eASA;QAAK,SAAS,EAAE9C,SAAS,KAAG,MAAZ,IAAoBE,QAAQ,KAAG,MAA/B,GAAuC,qCAAvC,GAA8E,0BAA9F;QAA0H,GAAG,EAAEQ,IAA/H;QAAqI,KAAK,EAAE;UAAC8C,UAAU,EAAE/C,MAAM,GAAE,MAAF,GAAU;QAA7B,CAA5I;QAAA,wBACI;UAAK,SAAS,EAAC,uBAAf;UAAA,wBACI;YAAG,SAAS,EAAC,cAAb;YAAA,iCAA+Cd,IAAI,CAAC8B,UAAL,CAAgB6B,MAA/D;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAQ,SAAS,EAAC,iCAAlB;YAAoD,OAAO,EAAE,MAAIV,oBAAoB,EAArF;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,EAKKS,QAAQ,EALb,EAMK1D,IAAI,CAAC8B,UAAL,CAAgBgC,GAAhB,CAAoBC,KAAK,iBACtB,QAAC,SAAD;UAA0B,KAAK,EAAEA,KAAjC;UAAwC,iBAAiB,EAAE7B,iBAA3D;UAA8E,qBAAqB,EAAEP;QAArG,GAAgBoC,KAAK,CAAC5C,EAAtB;UAAA;UAAA;UAAA;QAAA,QADH,CANL;MAAA;QAAA;QAAA;QAAA;MAAA,QATA,EAmBC+B,eAAe,EAnBhB;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAsBI,QAAC,WAAD;MACA,OAAO,EAAEtC,OADT;MACkB,UAAU,EAAEC,UAD9B;MAEA,IAAI,EAAEb,IAFN;MAEY,KAAK,EAAEC,KAFnB;MAGA,gBAAgB,EAAEC,gBAHlB;MAIA,OAAO,EAAEO,OAJT;MAKA,SAAS,EAAEJ,SALX;MAMA,YAAY,EAAEC,YANd;MAOA,QAAQ,EAAEC,QAPV;MAQA,WAAW,EAAEC;IARb;MAAA;MAAA;MAAA;IAAA,QAtBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADE;AAkCD;;GAxLmBT,I;UAMIR,O;;;KANJQ,I"},"metadata":{},"sourceType":"module"}