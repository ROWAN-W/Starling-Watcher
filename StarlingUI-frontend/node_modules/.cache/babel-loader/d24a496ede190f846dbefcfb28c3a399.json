{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.FitAddon = t() : e.FitAddon = t();\n}(self, function () {\n  return (() => {\n    \"use strict\";\n\n    var e = {\n      775: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.FitAddon = void 0;\n\n        var r = function () {\n          function e() {}\n\n          return e.prototype.activate = function (e) {\n            this._terminal = e;\n          }, e.prototype.dispose = function () {}, e.prototype.fit = function () {\n            var e = this.proposeDimensions();\n\n            if (e && this._terminal) {\n              var t = this._terminal._core;\n              this._terminal.rows === e.rows && this._terminal.cols === e.cols || (t._renderService.clear(), this._terminal.resize(e.cols, e.rows));\n            }\n          }, e.prototype.proposeDimensions = function () {\n            if (this._terminal && this._terminal.element && this._terminal.element.parentElement) {\n              var e = this._terminal._core;\n\n              if (0 !== e._renderService.dimensions.actualCellWidth && 0 !== e._renderService.dimensions.actualCellHeight) {\n                var t = window.getComputedStyle(this._terminal.element.parentElement),\n                    r = parseInt(t.getPropertyValue(\"height\")),\n                    i = Math.max(0, parseInt(t.getPropertyValue(\"width\"))),\n                    n = window.getComputedStyle(this._terminal.element),\n                    o = r - (parseInt(n.getPropertyValue(\"padding-top\")) + parseInt(n.getPropertyValue(\"padding-bottom\"))),\n                    a = i - (parseInt(n.getPropertyValue(\"padding-right\")) + parseInt(n.getPropertyValue(\"padding-left\"))) - e.viewport.scrollBarWidth;\n                return {\n                  cols: Math.max(2, Math.floor(a / e._renderService.dimensions.actualCellWidth)),\n                  rows: Math.max(1, Math.floor(o / e._renderService.dimensions.actualCellHeight))\n                };\n              }\n            }\n          }, e;\n        }();\n\n        t.FitAddon = r;\n      }\n    },\n        t = {};\n    return function r(i) {\n      if (t[i]) return t[i].exports;\n      var n = t[i] = {\n        exports: {}\n      };\n      return e[i](n, n.exports, r), n.exports;\n    }(775);\n  })();\n});","map":{"version":3,"mappings":"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","names":["root","factory","exports","module","define","amd","FitAddon","self","r","e","terminal","this","_terminal","dims","proposeDimensions","core","_core","rows","cols","_renderService","clear","resize","element","parentElement","dimensions","actualCellWidth","actualCellHeight","parentElementStyle","window","getComputedStyle","parentElementHeight","parseInt","getPropertyValue","parentElementWidth","Math","max","elementStyle","availableHeight","availableWidth","viewport","scrollBarWidth","floor","t","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__"],"sources":["webpack://FitAddon/webpack/universalModuleDefinition","webpack://FitAddon/src/FitAddon.ts","webpack://FitAddon/webpack/bootstrap","webpack://FitAddon/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FitAddon\"] = factory();\n\telse\n\t\troot[\"FitAddon\"] = factory();\n})(self, function() {\nreturn ","/**\n * Copyright (c) 2017 The xterm.js authors. All rights reserved.\n * @license MIT\n */\n\nimport { Terminal, ITerminalAddon } from 'xterm';\n\ninterface ITerminalDimensions {\n  /**\n   * The number of rows in the terminal.\n   */\n  rows: number;\n\n  /**\n   * The number of columns in the terminal.\n   */\n  cols: number;\n}\n\nconst MINIMUM_COLS = 2;\nconst MINIMUM_ROWS = 1;\n\nexport class FitAddon implements ITerminalAddon {\n  private _terminal: Terminal | undefined;\n\n  constructor() {}\n\n  public activate(terminal: Terminal): void {\n    this._terminal = terminal;\n  }\n\n  public dispose(): void {}\n\n  public fit(): void {\n    const dims = this.proposeDimensions();\n    if (!dims || !this._terminal) {\n      return;\n    }\n\n    // TODO: Remove reliance on private API\n    const core = (this._terminal as any)._core;\n\n    // Force a full render\n    if (this._terminal.rows !== dims.rows || this._terminal.cols !== dims.cols) {\n      core._renderService.clear();\n      this._terminal.resize(dims.cols, dims.rows);\n    }\n  }\n\n  public proposeDimensions(): ITerminalDimensions | undefined {\n    if (!this._terminal) {\n      return undefined;\n    }\n\n    if (!this._terminal.element || !this._terminal.element.parentElement) {\n      return undefined;\n    }\n\n    // TODO: Remove reliance on private API\n    const core = (this._terminal as any)._core;\n\n    if (core._renderService.dimensions.actualCellWidth === 0 || core._renderService.dimensions.actualCellHeight === 0) {\n      return undefined;\n    }\n\n    const parentElementStyle = window.getComputedStyle(this._terminal.element.parentElement);\n    const parentElementHeight = parseInt(parentElementStyle.getPropertyValue('height'));\n    const parentElementWidth = Math.max(0, parseInt(parentElementStyle.getPropertyValue('width')));\n    const elementStyle = window.getComputedStyle(this._terminal.element);\n    const elementPadding = {\n      top: parseInt(elementStyle.getPropertyValue('padding-top')),\n      bottom: parseInt(elementStyle.getPropertyValue('padding-bottom')),\n      right: parseInt(elementStyle.getPropertyValue('padding-right')),\n      left: parseInt(elementStyle.getPropertyValue('padding-left'))\n    };\n    const elementPaddingVer = elementPadding.top + elementPadding.bottom;\n    const elementPaddingHor = elementPadding.right + elementPadding.left;\n    const availableHeight = parentElementHeight - elementPaddingVer;\n    const availableWidth = parentElementWidth - elementPaddingHor - core.viewport.scrollBarWidth;\n    const geometry = {\n      cols: Math.max(MINIMUM_COLS, Math.floor(availableWidth / core._renderService.dimensions.actualCellWidth)),\n      rows: Math.max(MINIMUM_ROWS, Math.floor(availableHeight / core._renderService.dimensions.actualCellHeight))\n    };\n    return geometry;\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(775);\n"]},"metadata":{},"sourceType":"script"}