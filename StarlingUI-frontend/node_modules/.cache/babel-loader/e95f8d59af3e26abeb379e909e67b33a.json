{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\songe\\\\Documents\\\\Project\\\\SummerProject\\\\StarlingUI-frontend\\\\src\\\\components\\\\deployment-menu\\\\select\\\\ProjectList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { ProjectContext } from '../../App';\nimport ProjectSearchBox from './ProjectSearchBox';\nimport SearchType from './SearchType';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProjectList(props) {\n  _s();\n\n  var _showResult;\n\n  const {\n    userData,\n    projects,\n    handleProjectSelect\n  } = useContext(ProjectContext);\n  const [data, setData] = useState();\n  const [order, setOrder] = useState(\"ASC\");\n  const [orderCol, setOrderCol] = useState();\n  const [searchType, setSearchType] = useState('name');\n  const [searchProject, setSearchProject] = useState('');\n  useEffect(() => {\n    if (props.trigger === true) {\n      setData(projects);\n    }\n  }, [props.trigger]);\n\n  function sorting(col) {\n    if (order === \"ASC\") {\n      console.log(\"ASC\");\n      const sorted = [...data].sort((a, b) => a[col].toLowerCase() > b[col].toLowerCase() ? 1 : -1);\n      setData(sorted);\n      setOrder(\"DSC\");\n    } else if (order === \"DSC\") {\n      console.log(\"DSC\");\n      const sorted = [...data].sort((a, b) => a[col].toLowerCase() < b[col].toLowerCase() ? 1 : -1);\n      setData(sorted);\n      setOrder(\"ASC\");\n    }\n  }\n\n  function showIcon(col) {\n    if (col === orderCol) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"drone-sort-icon\",\n        children: \"\\u2191\\u2193\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n  function showResult() {\n    if (searchProject === '') {\n      return data;\n    } else {\n      return data.filter(i => i[searchType].toLowerCase().includes(searchProject.toLowerCase()));\n    }\n  }\n\n  return props.trigger ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup-projects\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup-projects-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup-header table\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"popup-title\",\n          children: \"Your Project List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"popup-close-button\",\n          onClick: () => {\n            props.setTrigger(false);\n            setOrderCol();\n          },\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-list-search\",\n          children: [/*#__PURE__*/_jsxDEV(SearchType, {\n            searchType: searchType,\n            setSearchType: setSearchType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(ProjectSearchBox, {\n            setSearchProject: setSearchProject,\n            searchProject: searchProject\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"fl-table wordwrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                onClick: () => {\n                  sorting(\"id\");\n                  setOrderCol(\"id\");\n                },\n                children: [\"ID\", showIcon(\"id\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                onClick: () => {\n                  sorting(\"name\");\n                  setOrderCol(\"name\");\n                },\n                children: [\"Project Name \", showIcon(\"name\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                onClick: () => {\n                  sorting(\"dateModified\");\n                  setOrderCol(\"dateModified\");\n                },\n                children: [\"Last Saved \", showIcon(\"dateModified\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                title: \"sort by ID\",\n                onClick: () => {\n                  sorting(\"lastModifiedBy\");\n                  setOrderCol(\"lastModifiedBy\");\n                },\n                children: [\"Last Saved by\", showIcon(\"lastModifiedBy\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: (_showResult = showResult()) === null || _showResult === void 0 ? void 0 : _showResult.map(project => {\n              var _userData$find;\n\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                onClick: () => {\n                  handleProjectSelect(project.id);\n                  props.setTrigger(false);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  title: project.id,\n                  children: project.id.slice(-4)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: project.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: project.dateModified\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  title: project.lastModifiedBy,\n                  children: [(_userData$find = userData.find(user => user.id === project.lastModifiedBy)) === null || _userData$find === void 0 ? void 0 : _userData$find.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"user-id\",\n                    children: [\"(ID:\", project.lastModifiedBy.slice(-2), \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 121\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 25\n                }, this)]\n              }, project.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this) : \"\";\n}\n\n_s(ProjectList, \"TJ/prt31X7xNBHRnMZl8zppxDmw=\");\n\n_c = ProjectList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProjectList\");","map":{"version":3,"names":["React","useState","useEffect","useContext","ProjectContext","ProjectSearchBox","SearchType","ProjectList","props","userData","projects","handleProjectSelect","data","setData","order","setOrder","orderCol","setOrderCol","searchType","setSearchType","searchProject","setSearchProject","trigger","sorting","col","console","log","sorted","sort","a","b","toLowerCase","showIcon","showResult","filter","i","includes","setTrigger","map","project","id","slice","name","dateModified","lastModifiedBy","find","user"],"sources":["C:/Users/songe/Documents/Project/SummerProject/StarlingUI-frontend/src/components/deployment-menu/select/ProjectList.js"],"sourcesContent":["import React,{useState, useEffect, useContext} from 'react';\r\nimport { ProjectContext } from '../../App';\r\nimport ProjectSearchBox from './ProjectSearchBox';\r\nimport SearchType from './SearchType';\r\n\r\nexport default function ProjectList(props) {\r\n    \r\n    const {userData, projects, handleProjectSelect} = useContext(ProjectContext);\r\n\r\n    const [data, setData] = useState();\r\n    const [order, setOrder] = useState(\"ASC\"); \r\n    const [orderCol, setOrderCol] = useState(); \r\n\r\n    const [searchType, setSearchType] = useState('name');\r\n    const [searchProject, setSearchProject] = useState('');\r\n\r\n    useEffect(() => {\r\n        if(props.trigger===true){\r\n            setData(projects);\r\n        }\r\n    },[props.trigger])\r\n\r\n    function sorting(col){\r\n        if(order===\"ASC\"){\r\n            console.log(\"ASC\");\r\n            const sorted = [...data].sort((a,b)=>\r\n            a[col].toLowerCase() > b[col].toLowerCase() ? 1: -1);\r\n            setData(sorted);\r\n            setOrder(\"DSC\");\r\n        }else if(order===\"DSC\"){\r\n            console.log(\"DSC\");\r\n            const sorted = [...data].sort((a,b)=>\r\n            a[col].toLowerCase() < b[col].toLowerCase() ? 1: -1);\r\n            setData(sorted);\r\n            setOrder(\"ASC\");\r\n        }\r\n    }\r\n\r\n    function showIcon(col){\r\n        if(col===orderCol){\r\n            return <span className='drone-sort-icon'>↑↓</span>\r\n        }\r\n    }\r\n\r\n    function showResult(){\r\n        if(searchProject===''){\r\n            return data;\r\n        }\r\n        else{\r\n            return data.filter(i=>i[searchType].toLowerCase().includes(searchProject.toLowerCase())); \r\n        }\r\n    }\r\n\r\n    return (props.trigger) ? (\r\n    <div className='popup-projects'>\r\n        <div className='popup-projects-inner'>\r\n        <div className='popup-header table'>\r\n            <span className='popup-title'>Your Project List</span>\r\n            <button className='popup-close-button' onClick={()=>{props.setTrigger(false);setOrderCol()}}>&times;</button>\r\n        </div>\r\n        <div className=\"table-wrapper\">\r\n        <div className='project-list-search'>\r\n        <SearchType searchType={searchType} setSearchType={setSearchType}></SearchType>\r\n        <ProjectSearchBox setSearchProject={setSearchProject} searchProject={searchProject}></ProjectSearchBox>\r\n        </div>\r\n            <table className=\"fl-table wordwrap\">\r\n            <thead>\r\n            <tr>\r\n                <th onClick={()=>{sorting(\"id\");setOrderCol(\"id\")}}>ID{showIcon(\"id\")}</th>\r\n                <th onClick={()=>{sorting(\"name\");setOrderCol(\"name\")}}>Project Name {showIcon(\"name\")}</th>\r\n                <th onClick={()=>{sorting(\"dateModified\");setOrderCol(\"dateModified\")}}>Last Saved {showIcon(\"dateModified\")}</th>\r\n                <th title=\"sort by ID\" onClick={()=>{sorting(\"lastModifiedBy\");setOrderCol(\"lastModifiedBy\")}}>Last Saved by{showIcon(\"lastModifiedBy\")}</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {showResult()?.map(project=>{\r\n                return(\r\n                    <tr \r\n                        key={project.id} \r\n                        onClick={()=>{handleProjectSelect(project.id); props.setTrigger(false)}}>\r\n                        <td title={project.id}>{project.id.slice(-4)}</td>\r\n                        <td>{project.name}</td>\r\n                        <td>{project.dateModified}</td>\r\n                        <td title={project.lastModifiedBy}>{userData.find(user=>user.id===project.lastModifiedBy)?.name}<span className='user-id'>(ID:{project.lastModifiedBy.slice(-2)})</span></td>\r\n                    </tr>\r\n                ) \r\n            })}\r\n            </tbody>\r\n            </table>\r\n        </div>\r\n        </div>\r\n    </div>\r\n  ): \"\"\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}