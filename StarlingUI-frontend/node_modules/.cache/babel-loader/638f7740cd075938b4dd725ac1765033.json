{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\songe\\\\Documents\\\\Project\\\\SummerProject\\\\StarlingUI-frontend\\\\src\\\\components\\\\Deployment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport Menu from \"./deployment-menu/Menu\";\nimport Project from \"./deployment-nodes/Project\";\nimport ImageList from \"./deployment-imageList/ImageList\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport DroneList from \"./deployment-droneList/DroneList\";\nimport { ProjectContext } from './App';\nimport DeployMini from \"./deployment-menu/deploy/DeployMini\";\nimport { usePopperTooltip } from 'react-popper-tooltip';\nimport 'react-popper-tooltip/dist/styles.css';\nimport edit from '../css/img/edit-svgrepo-com.svg';\nimport expand from '../css/img/left-arrow-svgrepo-com.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Deployment(_ref) {\n  _s();\n\n  let {\n    selectedProject\n  } = _ref;\n  const {\n    getArrowProps,\n    getTooltipProps,\n    setTooltipRef,\n    setTriggerRef,\n    visible\n  } = usePopperTooltip({\n    trigger: 'focus',\n    placement: 'right-end'\n  });\n  const {\n    handleProjectChange\n  } = useContext(ProjectContext);\n  const [droneListTrigger, setDroneListTrigger] = useState(true); //holding drones data!\n\n  const [data, setData] = useState();\n  const [updateClick, setUpdateClick] = useState(false);\n  const [updateTime, setUpdateTime] = useState(new Date().toLocaleDateString() + ' ' + new Date().toLocaleTimeString());\n  const [waiting, setWaiting] = useState(true);\n  const [error, setError] = useState(null);\n  const [minimize, setMinimize] = useState(null); //save\n\n  function handleUpdateTime() {\n    console.log(\"update available devices\");\n    setWaiting(true);\n    setError(null);\n    setData(); //clear data\n\n    setUpdateClick(prev => !prev);\n    setUpdateTime(new Date().toLocaleDateString() + ' ' + new Date().toLocaleTimeString());\n  }\n\n  function handleChange(changes) {\n    handleProjectChange(selectedProject.id, { ...selectedProject,\n      ...changes\n    });\n  }\n\n  function showProjectTitle() {\n    if (selectedProject === undefined) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"project-title plan\",\n        children: \"Project Planning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"project-title input\",\n          value: selectedProject.name,\n          placeholder: \"Your Project Name\",\n          maxLength: 63,\n          onChange: e => handleChange({\n            name: e.target.value\n          }),\n          ref: setTriggerRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), visible && /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: setTooltipRef,\n          ...getTooltipProps({\n            className: 'tooltip-container project-name-hint'\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", { ...getArrowProps({\n              className: 'tooltip-arrow'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this), \"* only lowercase alphanumeric characters or '-'\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 58\n          }, this), \"* start / end with an alphanumeric character\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 55\n          }, this), \"* at most 63 characters\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"edit-icon\",\n          src: edit,\n          alt: \"edit\",\n          title: \"edit project name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this);\n    }\n  } //<div><img className=\"arrow\" src={arrow} alt=\"show available devices\" title=\"show available devices\" onClick={()=>setDroneListTrigger(true)}/>\n  //</div>\n\n\n  function showDroneList() {\n    //two columns\n    if (droneListTrigger === false) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"openbtn\",\n        onClick: () => setDroneListTrigger(true),\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"expand-icon\",\n            src: expand,\n            alt: \"expand\",\n            title: \"show devices\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 83\n          }, this), \"Device List\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 77\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this); //three columns //true\n    } else {\n      return /*#__PURE__*/_jsxDEV(DroneList, {\n        trigger: droneListTrigger,\n        setTrigger: setDroneListTrigger,\n        data: data,\n        setData: setData,\n        handleUpdateTime: handleUpdateTime,\n        updateClick: updateClick,\n        updateTime: updateTime,\n        waiting: waiting,\n        setWaiting: setWaiting,\n        error: error,\n        setError: setError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header-menu\",\n      children: [showProjectTitle(), /*#__PURE__*/_jsxDEV(Menu, {\n        selectedProject: selectedProject,\n        drones: data,\n        handleUpdateTime: handleUpdateTime,\n        updateTime: updateTime,\n        error: error,\n        waiting: waiting,\n        minimize: minimize,\n        setMinimize: setMinimize\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-body\",\n      children: [/*#__PURE__*/_jsxDEV(DndProvider, {\n        backend: HTML5Backend,\n        children: [/*#__PURE__*/_jsxDEV(ImageList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Project, {\n          selectedProject: selectedProject\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), showDroneList()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }, this), selectedProject !== undefined && /*#__PURE__*/_jsxDEV(DeployMini, {\n      trigger: minimize,\n      setTrigger: setMinimize\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 37\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Deployment, \"4GPRC+oMIz6ggQWHDyCJyRILqKE=\", false, function () {\n  return [usePopperTooltip];\n});\n\n_c = Deployment;\nexport default Deployment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Deployment\");","map":{"version":3,"names":["React","useState","useContext","Menu","Project","ImageList","DndProvider","HTML5Backend","DroneList","ProjectContext","DeployMini","usePopperTooltip","edit","expand","Deployment","selectedProject","getArrowProps","getTooltipProps","setTooltipRef","setTriggerRef","visible","trigger","placement","handleProjectChange","droneListTrigger","setDroneListTrigger","data","setData","updateClick","setUpdateClick","updateTime","setUpdateTime","Date","toLocaleDateString","toLocaleTimeString","waiting","setWaiting","error","setError","minimize","setMinimize","handleUpdateTime","console","log","prev","handleChange","changes","id","showProjectTitle","undefined","name","e","target","value","className","showDroneList"],"sources":["C:/Users/songe/Documents/Project/SummerProject/StarlingUI-frontend/src/components/Deployment.js"],"sourcesContent":["import React, {useState, useContext} from \"react\";\r\nimport Menu from \"./deployment-menu/Menu\";\r\nimport Project from \"./deployment-nodes/Project\";\r\nimport ImageList from \"./deployment-imageList/ImageList\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport DroneList from \"./deployment-droneList/DroneList\";\r\nimport { ProjectContext } from './App';\r\nimport DeployMini from \"./deployment-menu/deploy/DeployMini\";\r\nimport { usePopperTooltip } from 'react-popper-tooltip';\r\nimport 'react-popper-tooltip/dist/styles.css';\r\nimport edit from '../css/img/edit-svgrepo-com.svg';\r\nimport expand from '../css/img/left-arrow-svgrepo-com.svg';\r\n\r\nfunction Deployment({selectedProject}) {\r\n\r\n  const {\r\n    getArrowProps,\r\n    getTooltipProps,\r\n    setTooltipRef,\r\n    setTriggerRef,\r\n    visible,\r\n  } = usePopperTooltip({\r\n    trigger: 'focus',\r\n    placement: 'right-end',\r\n  });\r\n\r\n  const {handleProjectChange} = useContext(ProjectContext);\r\n  \r\n  const [droneListTrigger,setDroneListTrigger] = useState(true);\r\n  //holding drones data!\r\n  const [data,setData]=useState();\r\n\r\n  const [updateClick, setUpdateClick] = useState(false);\r\n  const [updateTime, setUpdateTime] = useState(new Date().toLocaleDateString()+' '+new Date().toLocaleTimeString());\r\n\r\n  \r\n  const [waiting, setWaiting] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const [minimize, setMinimize] = useState(null); //save\r\n\r\n  function handleUpdateTime(){\r\n    console.log(\"update available devices\");\r\n    setWaiting(true);\r\n    setError(null);\r\n    setData(); //clear data\r\n    setUpdateClick(prev=>!prev);\r\n    setUpdateTime(new Date().toLocaleDateString()+' '+new Date().toLocaleTimeString());\r\n  }\r\n\r\n  function handleChange(changes){\r\n    handleProjectChange(selectedProject.id, {...selectedProject,...changes})\r\n  }\r\n  \r\n  function showProjectTitle(){\r\n    if(selectedProject===undefined){\r\n      return <h1 className=\"project-title plan\">Project Planning</h1>\r\n    }else{\r\n      return (\r\n      <div>\r\n        <input\r\n        className=\"project-title input\"\r\n        value={selectedProject.name}\r\n        placeholder = \"Your Project Name\"\r\n        maxLength = {63}\r\n        onChange={e=>handleChange({name: e.target.value})}\r\n        ref={setTriggerRef}\r\n        >\r\n        </input>\r\n        {visible && (\r\n        <div\r\n          ref={setTooltipRef}\r\n          {...getTooltipProps({ className: 'tooltip-container project-name-hint' })}\r\n        >\r\n          <div {...getArrowProps({ className: 'tooltip-arrow' })} />\r\n          * only lowercase alphanumeric characters or '-'<br/>\r\n          * start / end with an alphanumeric character<br/>\r\n          * at most 63 characters<br/>\r\n        </div>\r\n        )}\r\n        <img className=\"edit-icon\" src={edit} alt=\"edit\" title=\"edit project name\"/>\r\n      </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  //<div><img className=\"arrow\" src={arrow} alt=\"show available devices\" title=\"show available devices\" onClick={()=>setDroneListTrigger(true)}/>\r\n        //</div>\r\n\r\n  function showDroneList(){\r\n    //two columns\r\n    if(droneListTrigger===false){\r\n      return (\r\n        <button className=\"openbtn\" onClick={()=>setDroneListTrigger(true)}><span><img className=\"expand-icon\" src={expand} alt=\"expand\" title=\"show devices\"/>Device List</span></button> \r\n      ) \r\n    //three columns //true\r\n    }else{\r\n      return (\r\n        <DroneList trigger={droneListTrigger} setTrigger={setDroneListTrigger} \r\n        data={data} setData={setData} \r\n        handleUpdateTime={handleUpdateTime}\r\n        updateClick={updateClick}\r\n        updateTime={updateTime}\r\n        waiting = {waiting}\r\n        setWaiting = {setWaiting}\r\n        error = {error}\r\n        setError = {setError}\r\n        ></DroneList>\r\n      )\r\n    }\r\n  }\r\n\r\n  \r\n  return (\r\n    <>\r\n    <header className=\"header-menu\">\r\n    {showProjectTitle()}\r\n      <Menu \r\n      selectedProject={selectedProject} \r\n      drones={data} handleUpdateTime={handleUpdateTime} updateTime={updateTime} \r\n      error = {error} waiting = {waiting}\r\n      minimize = {minimize} setMinimize={setMinimize}\r\n      ></Menu>\r\n    </header>\r\n    <main className=\"main-body\">\r\n        <DndProvider backend={HTML5Backend}>\r\n        <ImageList></ImageList>\r\n        <Project selectedProject={selectedProject}></Project>\r\n        </DndProvider>\r\n        {showDroneList()}\r\n    </main>\r\n    {selectedProject!==undefined && <DeployMini trigger={minimize} setTrigger={setMinimize}></DeployMini>}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Deployment;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}